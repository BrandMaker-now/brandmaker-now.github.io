<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ã‚¢ãƒŸãƒ¥ãƒ©ãƒ³ç©ºä¸­æ•£æ­©ä½“é¨“ ğŸ¡</title>
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: #000; font-family: sans-serif; }
        
        /* å‹•ç”»ã‚¨ãƒªã‚¢ï¼šã‚¯ãƒªãƒƒã‚¯ï¼ˆåœæ­¢ï¼‰ã‚’ç„¡åŠ¹åŒ– */
        #video-wrapper { 
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1;
            pointer-events: none; /* â† ã“ã‚Œã§å‹•ç”»ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚‚åœæ­¢ã—ãªããªã‚Šã¾ã™ */
        }

        /* æœ€åˆã®ã‚¿ã‚¤ãƒˆãƒ«ã‚„åºƒå‘Šã‚’éš ã™ãŸã‚ã®é»’ã„å¹• */
        #video-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 5;
            display: flex; align-items: center; justify-content: center;
            color: white; transition: opacity 2s ease; /* 2ç§’ã‹ã‘ã¦ãƒ•ãƒ¯ãƒƒã¨æ¶ˆãˆã‚‹ */
        }

        #info-tooltip {
            position: absolute; top: 20px; right: 20px; z-index: 10;
            background: rgba(0, 0, 0, 0.7); color: white; padding: 15px; border-radius: 10px;
            border: 1px solid rgba(255,255,255,0.3); min-width: 200px;
        }

        .back-button {
            position: absolute; top: 20px; left: 20px; z-index: 10;
            color: white; text-decoration: none; background: rgba(0,0,0,0.5);
            padding: 10px; border-radius: 5px;
        }
    </style>
</head>
<body>

    <!-- æœ€åˆã®æ•°ç§’é–“ã€ã“ã‚Œã§è¦‹ãˆãªãã—ã¾ã™ -->
    <div id="video-overlay">
        <div id="loading-text">ğŸ¡ ã¾ã‚‚ãªãå‡ºç™ºã—ã¾ã™...</div>
    </div>

    <div id="video-wrapper">
        <div id="player"></div>
    </div>

    <div id="info-tooltip">
        <div style="font-size: 12px; opacity: 0.8;">ç¾åœ¨ã®çŠ¶æ³</div>
        <div id="status-text">æº–å‚™ä¸­...</div>
        <div id="altitude-text" style="margin-top: 5px; font-weight: bold;">æ¨™é«˜: --- m</div>
    </div>

    <a href="../index.html" class="back-button">â† ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</a>

    <script src="https://www.youtube.com/iframe_api"></script>

    <script>
        let player;
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '100%',
                width: '100%',
                videoId: 'uX8g9pbRnIA',
                playerVars: {
                    'start': 55,
                    'controls': 0,      // æ“ä½œãƒãƒ¼ã‚’æ¶ˆã™
                    'disablekb': 1,    // ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œã‚’ç¦æ­¢
                    'modestbranding': 1, // ãƒ­ã‚´ã‚’æ¸›ã‚‰ã™
                    'rel': 0,
                    'autoplay': 1,
                    'mute': 1
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            event.target.playVideo();
            // 1ç§’ã”ã¨ã«ã‚¬ã‚¤ãƒ‰æ›´æ–°
            setInterval(updateGuide, 1000);
        }

        function onPlayerStateChange(event) {
            // å‹•ç”»ãŒå†ç”Ÿé–‹å§‹ï¼ˆåºƒå‘ŠãŒçµ‚ã‚ã‚‹ã‹ã‚¹ã‚­ãƒƒãƒ—ã•ã‚ŒãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ï¼‰ã‚’æ¤œçŸ¥
            if (event.data == YT.PlayerState.PLAYING) {
                // 3ç§’å¾…ã£ã¦ã‹ã‚‰é»’ã„å¹•ã‚’æ¶ˆã™ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ã‚„æœ€åˆã®åºƒå‘Šã‚’è¦‹ã›ãªã„ãŸã‚ï¼‰
                setTimeout(() => {
                    const overlay = document.getElementById('video-overlay');
                    overlay.style.opacity = '0';
                    setTimeout(() => { overlay.style.display = 'none'; }, 2000);
                }, 3000);
            }
        }

        function updateGuide() {
            if (!player || !player.getCurrentTime) return;
            const time = player.getCurrentTime();
            const status = document.getElementById('status-text');
            const altitude = document.getElementById('altitude-text');

            // 55ç§’ã‚¹ã‚¿ãƒ¼ãƒˆãªã®ã§ã€çµŒéæ™‚é–“ã«åˆã‚ã›ã¦èª¿æ•´
            if (time < 120) {
                status.innerText = "ã‚¢ãƒŸãƒ¥ãƒ©ãƒ³ä¸Šæ˜‡ä¸­ ğŸ¡";
                altitude.innerText = "æ¨™é«˜: ç´„ 20 m";
            } else if (time < 440) {
                status.innerText = "é¹¿å…å³¶ã®è¡—ä¸¦ã¿ãŒè¦‹ãˆã¦ããŸ ğŸ™ï¸";
                altitude.innerText = "æ¨™é«˜: ç´„ 60 m";
            } else if (time < 500) {
                status.innerText = "æœ€é«˜åœ°ç‚¹ï¼æ¡œå³¶ãŒæ­£é¢ã§ã™ ğŸŒ‹";
                altitude.innerText = "æ¨™é«˜: 91 m";
            } else {
                status.innerText = "ã‚†ã£ãã‚Šä¸‹é™ã—ã¦ã„ã¾ã™ ğŸ¢";
                altitude.innerText = "æ¨™é«˜: ç´„ 40 m";
            }
        }
    </script>
</body>
</html>
